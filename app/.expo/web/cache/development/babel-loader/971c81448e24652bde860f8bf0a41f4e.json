{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\treso\\\\Documents\\\\proj_int\\\\projet-Integration\\\\app\\\\Messenger\\\\components\\\\CupertinoFooter1.js\";\nimport React, { Component, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { useNavigation } from '@react-navigation/native';\n\nfunction CupertinoFooter1(props) {\n  var navigation = useNavigation();\n\n  var _useState = useState(\" \"),\n      _useState2 = _slicedToArray(_useState, 2),\n      contact = _useState2[0],\n      setContact = _useState2[1];\n\n  function enregistrer() {\n    function getContact(x) {\n      var value, value2;\n      return _regeneratorRuntime.async(function getContact$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('contact'));\n\n            case 3:\n              value = _context.sent;\n              console.log(value);\n              value2 = JSON.parse(value);\n\n              if (!(value2[0].Id === x[0].Id)) {\n                _context.next = 10;\n                break;\n              }\n\n              console.log(\"le contact ci existe deja\");\n              _context.next = 14;\n              break;\n\n            case 10:\n              value2.push(x);\n              console.log(value2);\n              _context.next = 14;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('contact', JSON.stringify(value2)));\n\n            case 14:\n              _context.next = 19;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 16]], Promise);\n    }\n\n    var nom = \"'\" + props.name + \"'\";\n    var tel = props.tel;\n\n    try {\n      fetch(\"http://localhost:3000/contacts/\" + nom).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        if (json.length === 1) {\n          getContact(json);\n        } else {}\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  return React.createElement(View, {\n    style: [styles.container, props.style],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.btnWrapper1Row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.btnWrapper1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    title: \"Annuler\",\n    onPress: function onPress() {\n      return navigation.navigate(\"Discussion_Repo\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: styles.btnWrapper4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    title: \"Enregistrer\",\n    onPress: function onPress() {\n      return enregistrer();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    flexDirection: \"row\"\n  },\n  btnWrapper1: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    overflow: \"visible\",\n    height: 49,\n    width: 188\n  },\n  textInput2: {\n    fontSize: 16,\n    backgroundColor: \"transparent\",\n    paddingTop: 4,\n    width: 77,\n    height: 23\n  },\n  btnWrapper4: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 49,\n    width: 188\n  },\n  textInput: {\n    fontSize: 16,\n    color: \"rgba(171,15,15,1)\",\n    backgroundColor: \"transparent\",\n    paddingTop: 4,\n    width: 143,\n    height: 50\n  },\n  btnWrapper1Row: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1\n  }\n});\nexport default CupertinoFooter1;","map":{"version":3,"sources":["C:/Users/treso/Documents/proj_int/projet-Integration/app/Messenger/components/CupertinoFooter1.js"],"names":["React","Component","useState","AsyncStorage","useNavigation","CupertinoFooter1","props","navigation","contact","setContact","enregistrer","getContact","x","getItem","value","console","log","value2","JSON","parse","Id","push","setItem","stringify","nom","name","tel","fetch","then","response","json","length","error","styles","container","style","btnWrapper1Row","btnWrapper1","navigate","btnWrapper4","StyleSheet","create","width","flexDirection","flex","alignItems","justifyContent","overflow","height","textInput2","fontSize","backgroundColor","paddingTop","textInput","color","marginRight"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport { StyleSheet, View,  TouchableOpacity, TextInput, Button } from \"react-native\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { useNavigation } from '@react-navigation/native';\n\n\nfunction CupertinoFooter1(props) {\n  const navigation = useNavigation();\nconst [contact , setContact] = useState(\" \");\n \n\n\n function enregistrer() {\n  async function getContact (x){\n    try {\n     const value =  await AsyncStorage.getItem('contact')\n     console.log(value);\n     let value2 = JSON.parse(value);\n     if(value2[0].Id === x[0].Id) {\n\n     console.log(\"le contact ci existe deja\")\n      }else {\n        value2.push(x);   \n        console.log(value2);\n        await AsyncStorage.setItem('contact',JSON.stringify(value2))\n\n      }\n      \n    } catch(e) {\n      console.log(e)\n    }\n  \n  \n  }\n\n let nom = \"'\"+ props.name + \"'\";\n let tel = props.tel\n\n  try {\n    fetch(`http://localhost:3000/contacts/${(nom)}`)\n    .then(response => response.json())\n    .then(json => {\n      if(json.length === 1) { \n     \n     \n        getContact(json)\n      \n      }else {\n    \n        \n      }\n    })\n  } catch (error) {\n    console.error(error)\n  }\n\n}\n  return (\n    <View style={[styles.container, props.style]}>\n      <View style={styles.btnWrapper1Row}>\n        <TouchableOpacity style={styles.btnWrapper1}>\n        <Button title = \"Annuler\"  onPress={() => navigation.navigate(\"Discussion_Repo\")} />\n\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.btnWrapper4}>\n        <Button title = \"Enregistrer\" onPress = {() => enregistrer()} />\n\n  \n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    flexDirection: \"row\"\n  },\n  btnWrapper1: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    overflow: \"visible\",\n    height: 49,\n    width: 188\n  },\n  textInput2: {\n    fontSize: 16,\n    backgroundColor: \"transparent\",\n    paddingTop: 4,\n    width: 77,\n    height: 23\n  },\n  btnWrapper4: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 49,\n    width: 188\n  },\n  textInput: {\n    fontSize: 16,\n    color: \"rgba(171,15,15,1)\",\n    backgroundColor: \"transparent\",\n    paddingTop: 4,\n    width: 143,\n    height: 50\n  },\n  btnWrapper1Row: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1\n  }\n});\n\nexport default CupertinoFooter1;\n"]},"metadata":{},"sourceType":"module"}